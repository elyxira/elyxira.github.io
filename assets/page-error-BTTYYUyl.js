import{d as m,u as f,a as y,r as p,o as k,c as l,b as u,e as o,f as n,t as d}from"./index-yK87qRUn.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";const b={class:"error-page"},M={class:"error-page__content"},q={key:0,class:"error-details"},E={class:"error-details__content"},B={key:0,class:"error-message"},C={key:1,class:"error-code"},R=m({__name:"page-error",props:{errorMessage:{},errorDetails:{}},setup(v){const t=v,c=f(),s=y(),r=p(t.errorMessage||""),a=p(t.errorDetails||"");k(()=>{t.errorMessage&&(r.value=t.errorMessage),t.errorDetails&&(a.value=t.errorDetails),s.params.errorMessage&&(r.value=r.value||s.params.errorMessage),s.params.errorDetails&&(a.value=a.value||s.params.errorDetails),s.query.error&&(r.value=r.value||s.query.error),s.query.message&&(r.value=r.value||s.query.message),s.query.details&&(a.value=a.value||s.query.details);const i=localStorage.getItem("lastRouteError");if(i)try{const e=JSON.parse(i);r.value=r.value||e.message||"",a.value=a.value||e.details||"",localStorage.removeItem("lastRouteError")}catch(e){console.error("解析保存的错误信息失败:",e)}});const _=()=>c.push("/"),g=()=>c.back();return(i,e)=>(u(),l("div",b,[o("div",M,[e[1]||(e[1]=o("h1",{class:"error-page__title"},"页面加载失败",-1)),e[2]||(e[2]=o("p",{class:"error-page__message"},"抱歉，该页面正在开发中或加载出错。",-1)),r.value||a.value?(u(),l("div",q,[e[0]||(e[0]=o("h3",{class:"error-details__title"},"错误详情",-1)),o("div",E,[r.value?(u(),l("p",B,d(r.value),1)):n("",!0),a.value?(u(),l("pre",C,d(a.value),1)):n("",!0)])])):n("",!0),e[3]||(e[3]=o("p",{class:"error-page__description"},"您可以返回首页或尝试其他功能。",-1)),o("div",{class:"error-page__actions"},[o("button",{class:"btn btn-primary",onClick:_},"返回首页"),o("button",{class:"btn btn-secondary",onClick:g},"返回上一页")])])]))}}),x=D(R,[["__scopeId","data-v-ed4d168a"]]);export{x as default};
